Bootstrap: docker
From: ubuntu:20.04
Stage: build

%post

    ln -fs /usr/share/zoneinfo/Europe/Rome /etc/localtime
    export DEBIAN_FRONTEND=noninteractive
    echo "export DEBIAN_FRONTEND=noninteractive" >> $SINGULARITY_ENVIRONMENT

    apt-get update
    apt-get install -y --no-install-recommends apt-utils wget
    apt-get upgrade -y

    # Install required Pyhton packages
    
    pip3 --no-cache-dir install numpy==1.23.5
    pip3 --no-cache-dir install matplotlib==3.7.1
    pip3 --no-cache-dir install pandas==1.5.3

    pip3 --no-cache-dir antlr4-python3-runtime==4.9.2

    #pip3 --no-cache-dir -e git+https://github.com/smilies-polito/nwn-nwn-snakess.git#egg=snakes

    apt-get clean
    apt-get update -y
    
    
%runscript
    
    #!/bin/sh
    echo $1

